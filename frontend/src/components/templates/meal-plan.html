<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Meal Plan</title>
  <link rel="stylesheet" type="text/css" href="/frontend/src/components/static/css/meal-plan.css" />
  <script src="/frontend/src/components/static/js/meal-plan.js"></script>
</head>
<body>
<div class="meal-plan-container">
  <h1>Meal Plan</h1>
  <table class="meal-plan-table">
    <thead>
    <tr>
      <th></th>
      <th>Monday</th>
      <th>Tuesday</th>
      <th>Wednesday</th>
      <th>Thursday</th>
      <th>Friday</th>
      <th>Saturday</th>
      <th>Sunday</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td>Breakfast <button onclick="viewMeal({id: [[${breakfast.id}]], name: 'Breakfast'})">View</button></td>
      <td th:data-day-id="${monday.id}" th:data-meal-id="${monday.breakfast.id}"
          onclick="showModal({id: [[${monday.id}]], name: 'Monday'}, {id: [[${breakfast.id}]], name: 'Breakfast'})"></td>
      <td th:data-day-id="${tuesday.id}" th:data-meal-id="${tuesday.breakfast.id}"
          onclick="showModal({id: [[${tuesday.id}]], name: 'Tuesday'}, {id: [[${breakfast.id}]], name: 'Breakfast'})"></td>
      <td th:data-day-id="${wednesday.id}" th:data-meal-id="${wednesday.breakfast.id}"
          onclick="showModal({id: [[${wednesday.id}]], name: 'Wednesday'}, {id: [[${breakfast.id}]], name: 'Breakfast'})"></td>
      <td th:data-day-id="${thursday.id}" th:data-meal-id="${thursday.breakfast.id}"
          onclick="showModal({id: [[${thursday.id}]], name: 'Thursday'}, {id: [[${breakfast.id}]], name: 'Breakfast'})"></td>
      <td th:data-day-id="${friday.id}" th:data-meal-id="${friday.breakfast.id}"
          onclick="showModal({id: [[${friday.id}]], name: 'Friday'}, {id: [[${breakfast.id}]], name: 'Breakfast'})"></td>
      <td th:data-day-id="${saturday.id}" th:data-meal-id="${saturday.breakfast.id}"
          onclick="showModal({id: [[${saturday.id}]], name: 'Saturday'}, {id: [[${breakfast.id}]], name: 'Breakfast'})"></td>
      <td th:data-day-id="${sunday.id}" th:data-meal-id="${sunday.breakfast.id}"
          onclick="showModal({id: [[${sunday.id}]], name: 'Sunday'}, {id: [[${breakfast.id}]], name: 'Breakfast'})"></td>
    </tr>
    <tr>
      <td>Lunch <button onclick="viewMeal({id: [[${lunch.id}]], name: 'Lunch'})">View</button></td>
      <td th:data-day-id="${monday.id}" th:data-meal-id="${monday.lunch.id}"
          onclick="showModal({id: [[${monday.id}]], name: 'Monday'}, {id: [[${lunch.id}]], name: 'Lunch'})"></td>
      <td th:data-day-id="${tuesday.id}" th:data-meal-id="${tuesday.lunch.id}"
          onclick="showModal({id: [[${tuesday.id}]], name: 'Tuesday'}, {id: [[${lunch.id}]], name: 'Lunch'})"></td>
      <td th:data-day-id="${wednesday.id}" th:data-meal-id="${wednesday.lunch.id}"
          onclick="showModal({id: [[${wednesday.id}]], name: 'Wednesday'}, {id: [[${lunch.id}]], name: 'Lunch'})"></td>
      <td th:data-day-id="${thursday.id}" th:data-meal-id="${thursday.lunch.id}"
          onclick="showModal({id: [[${thursday.id}]], name: 'Thursday'}, {id: [[${lunch.id}]], name: 'Lunch'})"></td>
      <td th:data-day-id="${friday.id}" th:data-meal-id="${friday.lunch.id}"
          onclick="showModal({id: [[${friday.id}]], name: 'Friday'}, {id: [[${lunch.id}]], name: 'Lunch'})"></td>
      <td th:data-day-id="${saturday.id}" th:data-meal-id="${saturday.lunch.id}"
          onclick="showModal({id: [[${saturday.id}]], name: 'Saturday'}, {id: [[${lunch.id}]], name: 'Lunch'})"></td>
      <td th:data-day-id="${sunday.id}" th:data-meal-id="${sunday.lunch.id}"
          onclick="showModal({id: [[${sunday.id}]], name: 'Sunday'}, {id: [[${lunch.id}]], name: 'Lunch'})"></td>
    </tr>
    <tr>
      <td>Dinner <button onclick="viewMeal({id: [[${dinner.id}]], name: 'Dinner'})">View</button></td>
      <td th:data-day-id="${monday.id}" th:data-meal-id="${monday.dinner.id}"
          onclick="showModal({id: [[${monday.id}]], name: 'Monday'}, {id: [[${dinner.id}]], name: 'Dinner'})"></td>
      <td th:data-day-id="${tuesday.id}" th:data-meal-id="${tuesday.dinner.id}"
          onclick="showModal({id: [[${tuesday.id}]], name: 'Tuesday'}, {id: [[${dinner.id}]], name: 'Dinner'})"></td>
      <td th:data-day-id="${wednesday.id}" th:data-meal-id="${wednesday.dinner.id}"
          onclick="showModal({id: [[${wednesday.id}]], name: 'Wednesday'}, {id: [[${dinner.id}]], name: 'Dinner'})"></td>
      <td th:data-day-id="${thursday.id}" th:data-meal-id="${thursday.dinner.id}"
          onclick="showModal({id: [[${thursday.id}]], name: 'Thursday'}, {id: [[${dinner.id}]], name: 'Dinner'})"></td>
      <td th:data-day-id="${friday.id}" th:data-meal-id="${friday.dinner.id}"
          onclick="showModal({id: [[${friday.id}]], name: 'Friday'}, {id: [[${dinner.id}]], name: 'Dinner'})"></td>
      <td th:data-day-id="${saturday.id}" th:data-meal-id="${saturday.dinner.id}"
          onclick="showModal({id: [[${saturday.id}]], name: 'Saturday'}, {id: [[${dinner.id}]], name: 'Dinner'})"></td>
      <td th:data-day-id="${sunday.id}" th:data-meal-id="${sunday.dinner.id}"
          onclick="showModal({id: [[${sunday.id}]], name: 'Sunday'}, {id: [[${dinner.id}]], name: 'Dinner'})"></td>
    </tr>
    </tbody>

  </table>
  <button onclick="resetMealPlan()">Reset</button>
</div>
<div id="addFoodModal" class="modal-overlay">
  <div class="modal-content">
    <h2>Select or Add Food</h2>
    <select id="savedFoodsSelect">
      <option value="">Select a food</option>
      <!-- Options will be dynamically populated -->
    </select>
    <input type="text" id="newFoodInput" placeholder="Or add a new food" />
    <div class="modal-buttons">
      <button class="save-button" onclick="saveFood()">Save</button>
      <button class="cancel-button" onclick="closeModal()">Cancel</button>
    </div>
  </div>
</div>
</body>
</html>
